# ping
* ping这个名字源于声纳定位操作Ping程序由Mike Muuss编写，主机是否可以发送一份ICMP回显请求报文给主机并等待返回ICMP回显应答
* Ping到某台主机不能Telnet或者FTP到那台主机如果不能Telnet到某台主机 可用 P i n g程序来确定问题出在哪里
* Ping测定往返时间，以表明该主机离我们有“多远”深入剖析 I C M P。P i n g还给我们提供了检测I P记录路由和时间戳选项的机会

* Ping程序
  * 发送回显请求的ping程序为客户称被ping的主机为服务器多数TCP/IP实现都在内核中直接支持 P i n g服务器 — 这种服务器不是一个用户进程
  * 其他类型的I C M P查询报文，服务器必须响应标识符和序列号字段。另外，客户发送的选项数据必须回显，假设客户对这些信息都会感兴趣。
  

*  LAN输出
返回I C M P回显应答时，要打印出序列号和 T T L，并计算往返时间（ T T L位于I P首部中
的生存时间字段。当前的 B S D系统中的p i n g程序每次收到回显应答时都打印出收到的 T T L
— 有些系统并不这样做。我们将在第 8章中通过t r a c e r o u t e程序来介绍T T L的用法）。
从上面的输出中可以看出，回显应答是以发送的次序返回的（ 0，1，2等）。
p i n g程序通过在I C M P报文数据中存放发送请求的时间值来计算往返时间。当应答返回
时，用当前时间减去存放在 I C M P报文中的时间值，即是往返时间。注意，在发送端 b s d i上，
往返时间的计算结果都为 0 ms。这是因为程序使用的计时器分辨率低的原因。 B S D / 3 8 6版本
0 . 9 . 4系统只能提供10 ms级的计时器（在附录B中有更详细的介绍）。在后面的章节中，当我们
在具有较高分辨率计时器的系统上（ S u n）查看t c p d u m p输出时会发现，I C M P回显请求和回
显应答的时间差在4 ms以下。
输出的第一行包括目的主机的 I P地址，尽管指定的是它的名字（ s v r 4）。这说明名字已
经经过解析器被转换成 I P地址了。我们将在第 1 4章介绍解析器和D N S。现在，我们发现，如
果敲入p i n g命令，几秒钟过后会在第 1行打印出I P地址，D N S就是利用这段时间来确定主机
名所对应的I P地址。
